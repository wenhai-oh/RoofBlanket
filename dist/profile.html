<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <!-- Script for instant display of uploaded profile image -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="./script.js"></script>

    <!-- Vue CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
      * {
        padding: 0;
        margin: 0;
      }

      #profile-LeftBar ul {
        padding: 0;
        margin: 0;
      }

      #profile-LeftBar li {
        list-style: none;
        height: 36px;
        display: flex;
        align-items: center;
      }

      #profile-RightBar {
        margin: 0 auto;
      }

      #profile-container img {
        width: 100px;
        height: 100px;
      }

      #profile-container {
        border-radius: 50%;
        width: 100px;
        height: 100px;
        overflow: hidden;
      }

      #profileImage,
      #edit-profile-btn,
      #change-password-btn {
        cursor: pointer;
      }

      #profile-row {
        display: flex;
        align-items: flex-end;
      }

      #imageUpload{
        display: none;
      }

      #select-image-label {
        border: 1px solid black;
        padding: 0 10px;
        margin-bottom: 10px;
        border-radius: 20px;
        cursor: pointer;
      }

      .form-heading {
        margin-top: 20px;
        margin-bottom: 30px;
      }
    </style>
  </head>
  <body onload="displayEditProfileForm()">
    <!--Sticky Top Nav Bar Section-->
    <nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light px-5">
      <!-- Navbar Logo -->
      <a class="navbar-brand" href="#">RoofBlanket</a>
      <!-- End Of Navbar Logo -->

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Nav Bar Content -->
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <!--Nav Links-->
        <ul class="navbar-nav">
          <!--Call User's Profile Name-->
          <li class="navbar-text mx-5">
            Hello, Wai Soon
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="./profile.html">Profile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Features</a>
          </li>
          <li class="nav-item" style="margin-right: 30px;">
            <a class="nav-link" href="#">Pricing</a>
          </li>
          <li class="nav-item">
            <button type="button" class="btn btn-outline-primary" href="login.html">Login</button>
          </li>
        </ul>
        <!-- End Of Nav Links-->
      </div>
    <!-- End Of Nav Bar Content -->
    </nav>
    <!-- End Of Sticky Top Nav Bar Section -->

    
    <!-- Container -->
    <div class="container mt-5">
      <div class="row">
        <!-- Left side bar for menu selection (Edit profile/Change Password) -->
        <div id="profile-LeftBar" class="col-lg-2 col-12 mb-5">
          <ul>
            <li id="edit-profile-btn" onclick="displayEditProfileForm()">Edit Profile</li>
            <li id="change-password-btn" onclick="displayChangePasswordForm()">Change Password</li>
          </ul>
        </div>
        
        <!-- empty for spacing -->
        <div class="col-lg-1 col-0"></div>

        <!-- Right side bar for form display of information -->
        <div id="profile-RightBar" class="col-lg-9 col-11 border border-dark rounded p-4">
          <!-- Edit Profile Form -->
          <form id = edit-profile-container>
            <!-- Circle profile photo -->
            <div id="profile-row">
              <div id="profile-container">
                <img id="profileImage" src="https://t3.ftcdn.net/jpg/03/46/83/96/360_F_346839683_6nAPzbhpSkIpb8pmAwufkC7c5eD7wYws.jpg" />
              </div>
              <label for="imageUpload" id="select-image-label">Select Image</label>
              <input id="imageUpload" type="file" name="profile_photo" placeholder="Photo">
            </div>
            <!-- end of Circle profile photo -->

            <h3 class="form-heading">Your Profile</h3>

            <!-- Username Textbox -->
            <div class="mb-3 mt-3">
              <input type="text" class="form-control" placeholder="Username: ">
            </div>
            <!-- First Name Textbox -->
            <div class="mb-3 mt-3">
              <input type="text" class="form-control" placeholder="First Name: ">
            </div>
            <!-- Last Name Textbox -->
            <div class="mb-3 mt-3">
              <input type="text" class="form-control" placeholder="last Name: ">
            </div>
            <!-- Email Textbox -->
            <div class="mb-3 mt-3">
              <input type="text" class="form-control" placeholder="Email: ">
            </div>

            <div class="d-flex justify-content-end px-1 mt-4">
              <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
          </form>
          <!-- End of Edit Profile Form -->

          <!-- Change Password Form -->
          <form id="change-password-container">
            <h3 class="form-heading">Change Password</h3>
            <!-- Current Password Textbox -->
            <div class="mb-3 mt-3">
              <input type="text" class="form-control" placeholder="Current: ">
            </div>
            <!-- New Password Textbox -->
            <div class="mb-3 mt-3">
              <input type="text" class="form-control" placeholder="New: ">
            </div>
            <!-- Confirm Password Textbox -->
            <div class="mb-3 mt-3">
              <input type="text" class="form-control" placeholder="Confirm: ">
            </div>

            <div class="d-flex justify-content-end px-1 mt-4">
              <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
          </form>
          <!-- End of Change Password Form -->
        </div>
      </div>
      <!-- FOOTER -->
      <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
        <p class="col-md-4 mb-0 text-muted">Â© 2022 RoofBlanket, Inc</p>
        <ul class="nav col-md-4 justify-content-end">
          <li class="nav-item">
            <a href="index.html" class="nav-link px-2 text-muted"> Home</a>
          </li>
          <li class="nav-item">
            <a href="profile.html" class="nav-link px-2 text-muted"> Profile</a>
          </li>
          <li class="nav-item">
            <a href="chat.html" class="nav-link px-2 text-muted"> Chat</a>
          </li>
          <li class="nav-item">
            <a href="task_list.html" class="nav-link px-2 text-muted"> Task List</a>
          </li>
        </ul>
      </footer>
      <!-- FOOTER END -->
    </div>

    

    <!-- End of Container -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

    <!-- script for profile image upload -->
    <script>
      // Upload image for profile picture script
      $("#profileImage").click(function(e) {
        $("#imageUpload").click();
      });

      // preview image on browser
      function fasterPreview( uploader ) {
        if ( uploader.files && uploader.files[0] )
        {
          $('#profileImage').attr('src', window.URL.createObjectURL(uploader.files[0]) );
        }
      }

      $("#imageUpload").change(function(){
        fasterPreview( this );
      });

      // retrieve name of uploaded image
      $("#imageUpload").change(function() {
        filename = this.files[0].name;
        console.log(filename);
      });
    </script>
  </body>
</html>