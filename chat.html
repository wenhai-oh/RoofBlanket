<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Chat</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  </head>

  <body>
    <!--Sticky Top Nav Bar Section-->
    <nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light px-5">

      <!-- Navbar Logo -->
      <a class="navbar-brand" href="#">RoofBlanket</a>
      <!-- End Of Navbar Logo -->

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Nav Bar Content -->
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <!--Nav Links-->
        <ul class="navbar-nav">
          <!--Call User's Profile Name-->
          <li class="navbar-text mx-5">
            Hello, Wai Soon
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="#">Profile</a>
          </li> 
          <li class="nav-item">
            <a class="nav-link" href="#">Features</a>
          </li>
          <li class="nav-item" style="margin-right: 30px;">
            <a class="nav-link" href="#">Pricing</a>
          </li>
          <li class="nav-item">
            <button type="button" class="btn btn-outline-primary" href="login.html">Login</button>
          </li>
        </ul>
        <!-- End Of Nav Links-->
      </div>
      <!-- End Of Nav Bar Content -->
    </nav>
    <!-- End Of Sticky Top Nav Bar Section -->


    <!-- Mark as Complete Pop Up Box (Hidden By Default) -->
    <div class='markComplete text-center' id='markComplete'>
      <h5 style="margin:40px 0px">Has the Person been handed over to the GoodWill Host?</h5>
      <button class="btn btn-primary mb-3" type="submit" name="yes">Yes</button>
      <button class="btn btn-primary mb-3" type="submit" name="no" onclick="closeComplete()">No</button>
    </div>

    <!-- Start Of Body Content-->   
    <div class="container my-2" id="main">
      <div class="row">
        <h2 class="mb-5">Chat</h2>

        <!-- Inbox Side (Left)-->
        <div class="col-md-3 inbox">
          <!-- Search Box -->
          <div class="search-box">
            <div class="input-wrapper">
            <input type="text" class="form-control" placeholder="Search for Chat here...">
            </div>
          </div>

          <div class="inbox-drawer m-3">
            <img src="./icons/colored_profile.png" height="80px" width="80px" style="float:left;" class="me-1">
            <p class="m-0">Samaritan A</p>
            <p class="fw-bold m-0">Listed Person A</p>
            <p class="text-muted m-0">Hi, I am interested in this</p>
          </div>
        </div>

        <!-- Chat Side (Right)-->
        <div class="col-md-9 chat">
          <div id="topHalf">
            <!-- Samaritan Info -->
            <div class="container">
              <img src="./icons/colored_profile_b.png" height="50px" width="50px" style="float:left;" class="me-1">
              <p class="m-0">Samaritan A</p>
              <p class="m-0">Last Seen: 8 hrs ago</p>
            </div>
            <hr>  
            <!-- Homeless Person Info -->
            <div class="container">
              <img src="./icons/colored_profile.png" height="50px" width="50px" style="float:left;" class="me-1">
              <button class="btn btn-primary mt-2" type="submit" style="float:right" onclick="openComplete()">Mark as Complete</button>
              <p class="fw-bold m-2">Listed Person A</p>
              <p class="m-0"> - </p>
            </div>
            <hr>
          </div>
          <!-- Chat Box (Info Dump for Now)-->
          <div class='container-fluid' id="bottomHalf">
            <div class="chat-panel">
              <div class="row no-gutters">
              <div class="col-md-3">
                <div class="chat-bubble chat-bubble--left">
                Hello dude!
                </div>
              </div>
              </div>
              <div class="row no-gutters">
              <div class="col-md-3 offset-md-9">
                <div class="chat-bubble chat-bubble--right">
                Hello dude!
                </div>
              </div>
              </div>
              <div class="row no-gutters">
              <div class="col-md-3 offset-md-9">
                <div class="chat-bubble chat-bubble--right">
                Hello dude!
                </div>
              </div>
              </div>
              <div class="row no-gutters">
              <div class="col-md-3">
                <div class="chat-bubble chat-bubble--left">
                Hello dude!
                </div>
              </div>
              </div>
              <div class="row no-gutters">
              <div class="col-md-3">
                <div class="chat-bubble chat-bubble--left">
                Hello dude!
                </div>
              </div>
              </div>
              <div class="row no-gutters">
              <div class="col-md-3">
                <div class="chat-bubble chat-bubble--left">
                Hello dude!
                </div>
              </div>
              </div>
              <div class="row no-gutters">
              <div class="col-md-3 offset-md-9">
                <div class="chat-bubble chat-bubble--right">
                Testing super duper to see if it breaks line and its 2:32am rn 
                </div>
              </div>
              </div>


              
              <!-- Bottom Send Text Bar -->
              <form>
                <div class="input-group mb-3">
                  <input type="text" class="form-control" placeholder="Type here..">
                  <button class="btn btn-danger" type="button" name="sendMessage">Send</button>
                </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

    <script>
      let markComplete = document.getElementById('markComplete')
      let main = document.getElementById('main')
  
      function openComplete() {
        markComplete.classList.add('open-complete')
        main.classList.add('blur')
      }
      function closeComplete() {
        markComplete.classList.remove('open-complete')
        main.classList.remove('blur')
      }

      $('.inbox-drawer').on( 'click', function() {
        $('.chat-bubble').hide('slow').show('slow');
      });

    </script>

  </body>

  <style>
    .inbox {
      border-right: 1px solid grey;
      height: 100vh;
    }
    .bottomHalf {
      width: 100%;
    }
    .markComplete{
      background-color: beige;
      border-radius: 5%;
      padding: 20px;
      position: absolute;
      visibility: hidden;
      width: 50%;
      top: 10%;
      left: 25%;
      z-index: 1;
    }
    .open-complete {
      visibility: visible;
    }
    .blur {
      filter: blur(5px);
    }
    .inbox-drawer:hover {
      background:#0d6efd;
      cursor: pointer;
    }
    .chat-bubble {
      padding: 10px 14px;
      background: #eee;
      border-radius: 5px;
      position: relative;
      margin: 10px 0px;
    }
    .chat-bubble--right {
      background-color: #0d6efd;
      color: white;
      right:0;
    }

  </style>

</html>