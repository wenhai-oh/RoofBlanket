<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script type="text/javascript" src="./script.js"></script>
    <style>
      * {
        padding: 0;
        margin: 0;
      }

      #profile-LeftBar ul {
        padding: 0;
        margin: 0;
      }

      #profile-LeftBar li {
        list-style: none;
      }

      #profile-container img {
        width: 100px;
        height: 100px;
      }

      #profile-container {
        border-radius: 50%;
        width: 100px;
        height: 100px;
        overflow: hidden;
      }

      #profileImage,
      #edit-profile-btn,
      #change-password-btn {
        cursor: pointer;
      }

      #profile-row {
        display: flex;
        align-items: flex-end;
      }

      #imageUpload{
        display: none;
      }

      #select-image-label {
        border: 1px solid black;
        padding: 0 10px;
        margin-bottom: 10px;
        border-radius: 20px;
        cursor: pointer;
      }

      .form-control {
        border: none; 
        background-color: transparent; 
      }

      .form-label {
        margin: 0 10px 0 0;
      }

      .formLabelContainer {
        padding: 0;
      }

      .formInputContainer > input:focus {
        box-shadow: none;
      }

      form h3 {
        margin-bottom: 10px;
      }
    </style>
  </head>
  <body onload="displayEditProfileForm()">
    <!--Sticky Top Nav Bar Section-->
    <nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light px-5">
      <!-- Navbar Logo -->
      <a class="navbar-brand" href="#">RoofBlanket</a>
      <!-- End Of Navbar Logo -->

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Nav Bar Content -->
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <!--Nav Links-->
        <ul class="navbar-nav">
          <!--Call User's Profile Name-->
          <li class="navbar-text mx-5">
            Hello, Wai Soon
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="./profile.html">Profile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Features</a>
          </li>
          <li class="nav-item" style="margin-right: 30px;">
            <a class="nav-link" href="#">Pricing</a>
          </li>
          <li class="nav-item">
            <button type="button" class="btn btn-outline-primary" href="login.html">Login</button>
          </li>
        </ul>
        <!-- End Of Nav Links-->
      </div>
    <!-- End Of Nav Bar Content -->
    </nav>
    <!-- End Of Sticky Top Nav Bar Section -->

    
    <!-- Container -->
    <div class="container pt-5">
      <div class="row">
        <!-- Left side bar for menu selection (Edit profile / Change Password) -->
        <div id="profile-LeftBar" class="col-lg-2 col-12">
          <ul>
            <li id="edit-profile-btn" onclick="displayEditProfileForm()">Edit Profile</li>
            <li id="change-password-btn" onclick="displayChangePasswordForm()">Change Password</li>
          </ul>
        </div>
        
        <!-- empty for spacing -->
        <div class="col-1"></div>

        <div id="profile-RightBar" class="col-lg-9 col-12 border border-dark rounded p-4">
          <!-- Right side bar for form display of information -->
          <form id = edit-profile-container>
            <!-- Circle profile photo -->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
            <div id="profile-row">
              <div id="profile-container">
                <img id="profileImage" src="https://t3.ftcdn.net/jpg/03/46/83/96/360_F_346839683_6nAPzbhpSkIpb8pmAwufkC7c5eD7wYws.jpg" />
              </div>
              <label for="imageUpload" id="select-image-label">Select Image</label>
              <input id="imageUpload" type="file" name="profile_photo" placeholder="Photo">
            </div>
            <!-- end of Circle profile photo -->

            <h3>Your Profile</h3>

            <div class="mb-3 mx-1 px-3 rounded-pill border border-dark d-flex align-items-center">
              <div class="formLabelContainer">
                <label for="profile-username" class="form-label">Username: </label>
              </div>
              <div class="formInputContainer">
                <input type="text" class="form-control" id="profile-username">
              </div>
            </div>

            <div class="mb-3 mx-1 px-3 rounded-pill border border-dark d-flex align-items-center">
              <div class="formLabelContainer">
                <label for="profile-firstname" class="form-label">First Name: </label>
              </div>
              <div class="formInputContainer">
                <input type="text" class="form-control" id="profile-firstname">
              </div>
            </div>

            <div class="mb-3 mx-1 px-3 rounded-pill border border-dark d-flex align-items-center">
              <div class="formLabelContainer">
                <label for="profile-lastname" class="form-label">Last Name: </label>
              </div>
              <div class="formInputContainer">
                <input type="text" class="form-control" id="profile-lastname">
              </div>
            </div>

            <div class="mb-3 mx-1 px-3 rounded-pill border border-dark d-flex align-items-center">
              <div class="formLabelContainer">
                <label for="profile-email" class="form-label">Email: </label>
              </div>
              <div class="formInputContainer">
                <input type="text" class="form-control" id="profile-email">
              </div>
            </div>

            <div class="d-flex justify-content-end px-1 mt-4">
              <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
          </form>
          <form id="change-password-container">
            <h3>Change Password</h3>

            <div class="mb-3 mx-1 px-3 rounded-pill border border-dark d-flex align-items-center">
              <div class="formLabelContainer">
                <label for="profile-current-password" class="form-label">Current Password: </label>
              </div>
              <div class="formInputContainer">
                <input type="text" class="form-control" id="profile-current-password">
              </div>
            </div>

            <div class="mb-3 mx-1 px-3 rounded-pill border border-dark d-flex align-items-center">
              <div class="formLabelContainer">
                <label for="profile-new-password" class="form-label">New Password: </label>
              </div>
              <div class="formInputContainer">
                <input type="text" class="form-control" id="profile-new-password">
              </div>
            </div>

            <div class="mb-3 mx-1 px-3 rounded-pill border border-dark d-flex align-items-center">
              <div class="formLabelContainer">
                <label for="profile-confirm-password" class="form-label">Confirm Password: </label>
              </div>
              <div class="formInputContainer">
                <input type="text" class="form-control" id="profile-confirm-password">
              </div>
            </div>

            <div class="d-flex justify-content-end px-1 mt-4">
              <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- End of Container -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

    <!-- script for profile image upload -->
    <script>
      // Upload image for profile picture script
      $("#profileImage").click(function(e) {
        $("#imageUpload").click();
      });

      // preview image on browser
      function fasterPreview( uploader ) {
        if ( uploader.files && uploader.files[0] )
        {
          $('#profileImage').attr('src', window.URL.createObjectURL(uploader.files[0]) );
        }
      }

      $("#imageUpload").change(function(){
        fasterPreview( this );
      });

      // retrieve name of uploaded image
      $("#imageUpload").change(function() {
        filename = this.files[0].name;
        console.log(filename);
      });
    </script>
  </body>
</html>